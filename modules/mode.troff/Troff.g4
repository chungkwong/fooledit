grammar Troff;

COMMAND
    : ^[\\.'].*?$
    | '\\' ((~[([])|'[' (~']')* ']'|'('..) ([0-9a-zA-Z]|'['(~']')*']'|'\''(~'\'')*'\''|'('..)?
    ;

COMMENT
    : '\\' [#\"] (~[\r\n])*
    ;

WHITESPACE
    : [ \t\r\n]+
    ;

PLAIN
    : (~[\\\r\n])+"
    ;