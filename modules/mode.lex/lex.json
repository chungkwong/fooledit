{
    "states":{"defs":0,"rules":1,"user":2,"value":3,"action":4,"regex":5},
    "shorthands":["id","[_a-zA-Z][_0-9a-zA-Z]*","string","\"([^\"]|\\\\.)*\"",
		"char","'([^\\\\\"\\r\\n]|\\\\([ntvbrfa?'\"\\\\]|x[0-9a-fA-F]+|[0-7]{1,3}))'",
		"comment","//.*?$|/\\*.*?\\*/",
		"c0","\\{({comment}|[^'\"\\}]|{string}|{char})*\\}",
		"c1","\\{({comment}|[^'\"\\{\\}]|{string}|{char}|{c0})*\\}",
		"c2","\\{({comment}|[^'\"\\{\\}]|{string}|{char}|{c1})*\\}",
		"c3","\\{({comment}|[^'\"\\{\\}]|{string}|{char}|{c2})*\\}",
		"c4","\\{({comment}|[^'\"\\{\\}]|{string}|{char}|{c3})*\\}"],
	"rules":[
		{"old state":"defs","new state":"rules","type":"keyword","regex":"^%%"},
		{"old state":"rules","new state":"user","type":"keyword","regex":"^%%"},
		{"old state":"user","new state":"user","type":"plain","regex":".+"},
	    {"old state":"defs","new state":"defs","type":"plain","regex":"^%(top)?\\{.*?^%\\}|^\\t.*?$"},
	    {"old state":"defs","new state":"defs","type":"comment","regex":"/\\*.*?\\*/"},
	    {"old state":"defs","new state":"value","type":"key","regex":"{id}|%[sx]"},
	    {"old state":"defs","new state":"defs","type":"whitespace","regex":"[\\r\\n]+"},
	    {"old state":"value","new state":"value","type":"whitespace","regex":"[ \\t]+"},
	    {"old state":"value","new state":"defs","type":"regex","regex":".*?$"},
	    {"old state":"rules","new state":"rules","type":"plain","regex":"^%\\{.*?^%\\}|^\\t.*?$"},
	    {"old state":"rules","new state":"rules","type":"comment","regex":"[ \\t]*/\\*.*?\\*/[ \\t]*"},
	    {"old state":"rules","new state":"action","type":"key","regex":"^(?![ \\t])([^\\s\\\\]|\\\\.)+"},
	    {"old state":"rules","new state":"rules","type":"whitespace","regex":"[\\r\\n]+"},
	    {"old state":"action","new state":"action","type":"whitepace","regex":"[ \\t]+"},
	    {"old state":"action","new state":"rules","type":"plain","regex":"%\\{.*?%\\}|[^\\r\\n\\{\"']*$"},
	    {"old state":"action","new state":"action","type":"plain","regex":"[^'\"\\{\\}\\r\\n]+|{char}|{string}"},
	    {"old state":"action","new state":"action","type":"plain","regex":"{c4}"}
	]
}